<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interactivo - Análisis Completo Venezuela</title>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <style>
        #map { height: 600px; width: 100%; }
        .legend { background: white; padding: 10px; line-height: 1.5; font-size: 12px; }
        .legend span { display: inline-block; width: 15px; height: 15px; margin-right: 5px; }
    </style>
</head>
<body>
    <h1>Mapa Interactivo - Análisis Completo de Venezuela (2024-2025)</h1>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([10, -66], 6); // Centrado en Venezuela
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var noticias = [
            // Información del primer mapa (Migración, Crimen Organizado, Narcotráfico)
            {categoria: "Migración", color: "blue", coordenadas: [4.711, -74.0721], descripcion: "Creciente flujo de migrantes venezolanos en la frontera【Fuente: <a href='https://ejemplo.com/noticia1' target='_blank'>Ejemplo</a>】."},
            {categoria: "Crimen Organizado", color: "red", coordenadas: [-9.19, -75.0152], descripcion: "Operación policial desmantela red de tráfico de personas con vínculos venezolanos【Fuente: <a href='https://ejemplo.com/noticia2' target='_blank'>Ejemplo</a>】."},
            {categoria: "Crimen Organizado", color: "red", coordenadas: [-33.4489, -70.6693], descripcion: "Desmantelamiento de célula del Tren de Aragua en Santiago【Fuente: <a href='https://elpais.com' target='_blank'>El País</a>】."},
            {categoria: "Narcotráfico", color: "green", coordenadas: [10.602, -66.9562], descripcion: "Incautación de 3.000 kg de cocaína en el Aeropuerto de Maiquetía【Fuente: <a href='https://www.infobae.com' target='_blank'>Infobae</a>】."},
            {categoria: "Narcotráfico", color: "green", coordenadas: [10.498, -71.646], descripcion: "Destrucción de laboratorios de cocaína en el estado Zulia【Fuente: <a href='https://www.ntn24.com' target='_blank'>NTN24</a>】."},

            // Información Nueva (Energía, Sanciones, Seguridad, Relaciones Internacionales)
            {categoria: "Energía", color: "yellow", coordenadas: [10.466, -66.879], descripcion: "Producción petrolera: 680.000 barriles por día【Fuente: <a href='https://www.opec.org' target='_blank'>OPEP</a>】."},
            {categoria: "Energía", color: "yellow", coordenadas: [10.5, -72.0], descripcion: "Crisis eléctrica: 15.430 fallos de electricidad entre agosto 2024 y febrero 2025【Fuente: <a href='https://comiteapagones.org' target='_blank'>Comité de Apagones</a>】."},
            {categoria: "Seguridad", color: "red", coordenadas: [7.9, -72.5], descripcion: "Control territorial del ELN y las FARC en 15 municipios fronterizos【Fuente: <a href='https://www.pares.com.co' target='_blank'>Fundación Pares</a>】."},
            {categoria: "Sanciones", color: "orange", coordenadas: [10.496, -66.849], descripcion: "Sanciones a 15 nuevos funcionarios vinculados a violaciones de derechos humanos【Fuente: <a href='https://elpais.com' target='_blank'>El País</a>】."},
            {categoria: "Relaciones Internacionales", color: "purple", coordenadas: [10.5, -66.85], descripcion: "Cooperación militar y tecnológica ampliada con Rusia e Irán【Fuente: <a href='https://tass.com' target='_blank'>TASS</a>】."}
        ];

        noticias.forEach(function(noticia) {
            L.circleMarker(noticia.coordenadas, {
                radius: 8,
                color: noticia.color,
                fillColor: noticia.color,
                fillOpacity: 0.7
            }).addTo(map).bindPopup(`<b>${noticia.categoria}</b><br>${noticia.descripcion}`);
        });

        // Añadir leyenda
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function () {
            var div = L.DomUtil.create('div', 'legend');
            div.innerHTML += '<b>Leyenda</b><br>';
            div.innerHTML += '<span style="background: blue"></span> Migración<br>';
            div.innerHTML += '<span style="background: red"></span> Crimen Organizado / Seguridad<br>';
            div.innerHTML += '<span style="background: green"></span> Narcotráfico<br>';
            div.innerHTML += '<span style="background: yellow"></span> Energía<br>';
            div.innerHTML += '<span style="background: orange"></span> Sanciones<br>';
            div.innerHTML += '<span style="background: purple"></span> Relaciones Internacionales<br>';
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
